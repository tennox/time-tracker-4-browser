#!/usr/bin/env bash
set -euo pipefail

# Docs: https://direnv.net/

# https://github.com/nix-community/nix-direnv/?tab=readme-ov-file#installation
if ! has nix_direnv_version || ! nix_direnv_version 3.1.0; then
  source_url "https://raw.githubusercontent.com/nix-community/nix-direnv/3.1.0/direnvrc" "sha256-yMJ2OVMzrFaDPn7q8nCBZFRYpL/f0RcHzhmw/i6btJM="
fi

watch_file devenv.nix

use flake . --impure --accept-flake-config

layout node # adds PATH entry node_modules/.bin - https://github.com/direnv/direnv/blob/master/stdlib.sh#L783
